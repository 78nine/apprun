class t{constructor(){this._events={}}on(t,s,i={}){this._events[t]=this._events[t]||[],this._events[t].push({fn:s,options:i})}off(t,s){const i=this._events[t]||[];this._events[t]=i.filter((t=>t.fn!==s))}find(t){return this._events[t]}run(t,...s){const i=this.getSubscribers(t,this._events);return console.assert(i&&i.length>0,"No subscriber for event: "+t),i.forEach((i=>{const{fn:e,options:n}=i;return n.delay?this.delay(t,e,s,n):Object.keys(n).length>0?e.apply(this,[...s,n]):e.apply(this,s),!i.options.once})),i.length}once(t,s,i={}){this.on(t,s,Object.assign(Object.assign({},i),{once:!0}))}delay(t,s,i,e){e._t&&clearTimeout(e._t),e._t=setTimeout((()=>{clearTimeout(e._t),Object.keys(e).length>0?s.apply(this,[...i,e]):s.apply(this,i)}),e.delay)}query(t,...s){const i=this.getSubscribers(t,this._events);console.assert(i&&i.length>0,"No subscriber for event: "+t);const e=i.map((t=>{const{fn:i,options:e}=t;return Object.keys(e).length>0?i.apply(this,[...s,e]):i.apply(this,s)}));return Promise.all(e)}getSubscribers(t,s){const i=s[t]||[];return s[t]=i.filter((t=>!t.options.once)),Object.keys(s).filter((s=>s.endsWith("*")&&t.startsWith(s.replace("*","")))).sort(((t,s)=>s.length-t.length)).forEach((e=>i.push(...s[e].map((s=>Object.assign(Object.assign({},s),{options:Object.assign(Object.assign({},s.options),{event:t})})))))),i}}let s;const i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;i.app&&i._AppRunVersions?s=i.app:(s=new t,i.app=s,i._AppRunVersions="AppRun-2");var e=s;function n(t,...s){return o(s)}function o(t){const s=[],i=t=>{null!=t&&""!==t&&!1!==t&&s.push("function"==typeof t||"object"==typeof t?t:`${t}`)};return t&&t.forEach((t=>{Array.isArray(t)?t.forEach((t=>i(t))):i(t)})),s}function r(t,s,...i){const e=o(i);if("string"==typeof t)return{tag:t,props:s,children:e};if(Array.isArray(t))return t;if(void 0===t&&i)return e;if(Object.getPrototypeOf(t).t)return{tag:t,props:s,children:e};if("function"==typeof t)return t(s,e);throw new Error(`Unknown tag in vdom ${t}`)}const h=new WeakMap,c=function(t,s,i={}){if(null==s||!1===s)return;s=p(s,i);const e="SVG"===(null==t?void 0:t.nodeName);if(!t)return;Array.isArray(s)?u(t,s,e):u(t,[s],e)};function l(t,s,i){3!==s._op&&(i=i||"svg"===s.tag,!function(t,s){const i=t.nodeName,e=`${s.tag||""}`;return i.toUpperCase()===e.toUpperCase()}(t,s)?t.parentNode.replaceChild(a(s,i),t):(!(2&s._op)&&u(t,s.children,i),!(1&s._op)&&d(t,s.props,i)))}function u(t,s,i){var e;const n=(null===(e=t.childNodes)||void 0===e?void 0:e.length)||0,o=(null==s?void 0:s.length)||0,r=Math.min(n,o);for(let e=0;e<r;e++){const n=s[e];if(3===n._op)continue;const o=t.childNodes[e];if("string"==typeof n)o.textContent!==n&&(3===o.nodeType?o.nodeValue=n:t.replaceChild(f(n),o));else if(n instanceof HTMLElement||n instanceof SVGElement)t.insertBefore(n,o);else{const s=n.props&&n.props.key;if(s)if(o.key===s)l(t.childNodes[e],n,i);else{const r=h[s];if(r){const s=r.nextSibling;t.insertBefore(r,o),s?t.insertBefore(o,s):t.appendChild(o),l(t.childNodes[e],n,i)}else t.replaceChild(a(n,i),o)}else l(t.childNodes[e],n,i)}}let c=t.childNodes.length;for(;c>r;)t.removeChild(t.lastChild),c--;if(o>r){const e=document.createDocumentFragment();for(let t=r;t<s.length;t++)e.appendChild(a(s[t],i));t.appendChild(e)}}function f(t){if(0===(null==t?void 0:t.indexOf("_html:"))){const s=document.createElement("div");return s.insertAdjacentHTML("afterbegin",t.substring(6)),s}return document.createTextNode(null!=t?t:"")}function a(t,s){if(t instanceof HTMLElement||t instanceof SVGElement)return t;if("string"==typeof t)return f(t);if(!t.tag||"function"==typeof t.tag)return f(JSON.stringify(t));const i=(s=s||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);return d(i,t.props,s),t.children&&t.children.forEach((t=>i.appendChild(a(t,s)))),i}function d(t,s,i){const e=t._props||{};s=function(t,s){s.class=s.class||s.className,delete s.className;const i={};return t&&Object.keys(t).forEach((t=>i[t]=null)),s&&Object.keys(s).forEach((t=>i[t]=s[t])),i}(e,s||{}),t._props=s;for(const e in s){const n=s[e];if(e.startsWith("data-")){const s=e.substring(5).replace(/-(\w)/g,(t=>t[1].toUpperCase()));t.dataset[s]!==n&&(n||""===n?t.dataset[s]=n:delete t.dataset[s])}else if("style"===e)if(t.style.cssText&&(t.style.cssText=""),"string"==typeof n)t.style.cssText=n;else for(const s in n)t.style[s]!==n[s]&&(t.style[s]=n[s]);else if(e.startsWith("xlink")){const s=e.replace("xlink","").toLowerCase();null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",s):t.setAttributeNS("http://www.w3.org/1999/xlink",s,n)}else e.startsWith("on")?n&&"function"!=typeof n?"string"==typeof n&&(n?t.setAttribute(e,n):t.removeAttribute(e)):t[e]=n:/^id$|^class$|^list$|^readonly$|^contenteditable$|^role|-/g.test(e)||i?t.getAttribute(e)!==n&&(n?t.setAttribute(e,n):t.removeAttribute(e)):t[e]!==n&&(t[e]=n);"key"===e&&n&&(h[n]=t)}s&&"function"==typeof s.ref&&window.requestAnimationFrame((()=>s.ref(t)))}function p(t,s,i=0){var e;if("string"==typeof t)return t;if(Array.isArray(t))return t.map((t=>p(t,s,i++)));let n=t;if(t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).t&&(n=function(t,s,i){const{tag:e,props:n,children:o}=t;let r=`_${i}`,h=n&&n.id;h?r=h:h=`_${i}${Date.now()}`;let c="section";n&&n.as&&(c=n.as,delete n.as),s.i||(s.i={});let l=s.i[r];if(!(l&&l instanceof e&&l.element)){const t=document.createElement(c);l=s.i[r]=new e(Object.assign(Object.assign({},n),{children:o})).start(t)}if(l.mounted){const t=l.mounted(n,o,l.state);void 0!==t&&l.setState(t)}return d(l.element,n,!1),l.element}(t,s,i)),n&&Array.isArray(n.children)){const t=null===(e=n.props)||void 0===e?void 0:e._component;if(t){let s=0;n.children=n.children.map((i=>p(i,t,s++)))}else n.children=n.children.map((t=>p(t,s,i++)))}return n}const m=(t,s={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return(s.observedAttributes||[]).map((t=>t.toLowerCase()))}connectedCallback(){if(this.isConnected&&!this._component){const i=s||{};this._shadowRoot=i.shadow?this.attachShadow({mode:"open"}):this;const e=i.observedAttributes||[],n=e.reduce(((t,s)=>{const i=s.toLowerCase();return i!==s&&(t[i]=s),t}),{});this._attrMap=t=>n[t]||t;const o={};Array.from(this.attributes).forEach((t=>o[this._attrMap(t.name)]=t.value)),e.forEach((t=>{void 0!==this[t]&&(o[t]=this[t]),Object.defineProperty(this,t,{get:()=>o[t],set(s){this.attributeChangedCallback(t,o[t],s)},configurable:!0,enumerable:!0})}));const r=this.children?Array.from(this.children):[];if(r.forEach((t=>t.parentElement.removeChild(t))),this._component=new t(Object.assign(Object.assign({},o),{children:r})).mount(this._shadowRoot,i),this._component._props=o,this._component.dispatchEvent=this.dispatchEvent.bind(this),this._component.mounted){const t=this._component.mounted(o,r,this._component.state);void 0!==t&&(this._component.state=t)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==i.render&&this._component.run(".")}}disconnectedCallback(){var t,s,i,e;null===(s=null===(t=this._component)||void 0===t?void 0:t.unload)||void 0===s||s.call(t),null===(e=null===(i=this._component)||void 0===i?void 0:i.unmount)||void 0===e||e.call(i),this._component=null}attributeChangedCallback(t,i,e){if(this._component){const n=this._attrMap(t);this._component._props[n]=e,this._component.run("attributeChanged",n,i,e),e!==i&&!1!==s.render&&window.requestAnimationFrame((()=>{this._component.run(".")}))}}};var w=(t,s,i)=>{"undefined"!=typeof customElements&&customElements.define(t,m(s,i))};const y={meta:new WeakMap,defineMetadata(t,s,i){this.meta.has(i)||this.meta.set(i,{}),this.meta.get(i)[t]=s},getMetadataKeys(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata(t,s){return s=Object.getPrototypeOf(s),this.meta.get(s)?this.meta.get(s)[t]:null}};function b(t,s={}){return(i,e,n)=>{const o=t?t.toString():e;return y.defineMetadata(`apprun-update:${o}`,{name:o,key:e,options:s},i),n}}function g(t,s={}){return function(i,e){const n=t?t.toString():e;y.defineMetadata(`apprun-update:${n}`,{name:n,key:e,options:s},i)}}function v(t,s){return function(i){return w(t,i,s),i}}const x=(t,s)=>(s?t.state[s]:t.state)||"",j=(t,s,i)=>{if(s){const e=t.state||{};e[s]=i,t.setState(e)}else t.setState(i)},$=(t,s)=>{if(Array.isArray(t))return t.map((t=>$(t,s)));{let{tag:i,props:n,children:o}=t;return i?(n&&Object.keys(n).forEach((t=>{t.startsWith("$")&&(((t,s,i,n)=>{if(t.startsWith("$on")){const i=s[t];if(t=t.substring(1),"boolean"==typeof i)s[t]=s=>n.run(t,s);else if("string"==typeof i)s[t]=t=>n.run(i,t);else if("function"==typeof i)s[t]=t=>n.setState(i(n.state,t));else if(Array.isArray(i)){const[e,...o]=i;"string"==typeof e?s[t]=t=>n.run(e,...o,t):"function"==typeof e&&(s[t]=t=>n.setState(e(n.state,...o,t)))}}else if("$bind"===t){const e=s.type||"text",o="string"==typeof s[t]?s[t]:s.name;if("input"===i)switch(e){case"checkbox":s.checked=x(n,o),s.onclick=t=>j(n,o||t.target.name,t.target.checked);break;case"radio":s.checked=x(n,o)===s.value,s.onclick=t=>j(n,o||t.target.name,t.target.value);break;case"number":case"range":s.value=x(n,o),s.oninput=t=>j(n,o||t.target.name,Number(t.target.value));break;default:s.value=x(n,o),s.oninput=t=>j(n,o||t.target.name,t.target.value)}else"select"===i?(s.value=x(n,o),s.onchange=t=>{t.target.multiple||j(n,o||t.target.name,t.target.value)}):"option"===i?(s.selected=x(n,o),s.onclick=t=>j(n,o||t.target.name,t.target.selected)):"textarea"===i&&(s.innerHTML=x(n,o),s.oninput=t=>j(n,o||t.target.name,t.target.value))}else e.run("$",{key:t,tag:i,props:s,component:n})})(t,n,i,s),delete n[t])})),o&&(o=$(o,s)),{tag:i,props:n,children:o}):t}},O=new Map;e.on("get-components",(t=>t.components=O));const _=t=>t;class M{constructor(s,i,e,n){this.state=s,this.view=i,this.update=e,this.options=n,this._app=new t,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(t=null,s)=>this.mount(t,Object.assign(Object.assign({},s),{render:!0}))}renderState(t,s=null){if(!this.view)return;let i=s||this.view(t);if(e.debug&&e.run("debug",{component:this,_:i?".":"-",state:t,vdom:i,el:this.element}),"object"!=typeof document)return;const n="string"==typeof this.element?document.getElementById(this.element):this.element;if(n){const t="_c";this.unload?n._component===this&&n.getAttribute(t)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),n.setAttribute(t,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver((t=>{t[0].oldValue!==this.tracking_id&&document.body.contains(n)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)}))),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[t]}))):n.removeAttribute&&n.removeAttribute(t),n._component=this}!s&&i&&(i=$(i,this),e.render(n,i,this)),this.rendered&&this.rendered(this.state)}setState(t,s={render:!0,history:!1}){if(t instanceof Promise)Promise.all([t,this._state]).then((t=>{t[0]&&this.setState(t[0])})).catch((t=>{throw console.error(t),t})),this._state=t;else{if(this._state=t,null==t)return;this.state=t,!1!==s.render&&this.renderState(t),!1!==s.history&&this.enable_history&&(this._history=[...this._history,t],this._history_idx=this._history.length-1),"function"==typeof s.callback&&s.callback(this.state)}}mount(t=null,s){var i,n;return console.assert(!this.element,"Component already mounted."),this.options=s=Object.assign(Object.assign({},this.options),s),this.element=t,this.global_event=s.global_event,this.enable_history=!!s.history,this.enable_history&&(this.on(s.history.prev||"history-prev",this._history_prev),this.on(s.history.next||"history-next",this._history_next)),s.route&&(this.update=this.update||{},this.update[s.route]=_),this.add_actions(),this.state=null!==(n=null!==(i=this.state)&&void 0!==i?i:this.model)&&void 0!==n?n:{},"function"==typeof this.state&&(this.state=this.state()),s.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),e.debug&&(O.get(t)?O.get(t).push(this):O.set(t,[this])),this}is_global_event(t){return t&&(this.global_event||this._global_events.indexOf(t)>=0||t.startsWith("#")||t.startsWith("/")||t.startsWith("@"))}add_action(t,s,i={}){s&&"function"==typeof s&&(i.global&&this._global_events.push(t),this.on(t,((...n)=>{e.debug&&e.run("debug",{component:this,_:">",event:t,p:n,current_state:this.state,options:i});const o=s(this.state,...n);e.debug&&e.run("debug",{component:this,_:"<",event:t,p:n,newState:o,state:this.state,options:i}),this.setState(o,i)}),i))}add_actions(){const t=this.update||{};y.getMetadataKeys(this).forEach((s=>{if(s.startsWith("apprun-update:")){const i=y.getMetadata(s,this);t[i.name]=[this[i.key].bind(this),i.options]}}));const s={};Array.isArray(t)?t.forEach((t=>{const[i,e,n]=t;i.toString().split(",").forEach((t=>s[t.trim()]=[e,n]))})):Object.keys(t).forEach((i=>{const e=t[i];("function"==typeof e||Array.isArray(e))&&i.split(",").forEach((t=>s[t.trim()]=e))})),s["."]||(s["."]=_),Object.keys(s).forEach((t=>{const i=s[t];"function"==typeof i?this.add_action(t,i):Array.isArray(i)&&this.add_action(t,i[0],i[1])}))}run(t,...s){const i=t.toString();return this.is_global_event(i)?e.run(i,...s):this._app.run(i,...s)}on(t,s,i){const n=t.toString();return this._actions.push({name:n,fn:s}),this.is_global_event(n)?e.on(n,s,i):this._app.on(n,s,i)}unmount(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this._actions.forEach((t=>{const{name:s,fn:i}=t;this.is_global_event(s)?e.off(s,i):this._app.off(s,i)}))}}M.t=!0;const k="//",A="///",E=t=>{if(t||(t="#"),t.startsWith("#")){const[s,...i]=t.split("/");e.run(s,...i)||e.run("///",s,...i),e.run("//",s,...i)}else if(t.startsWith("/")){const[s,i,...n]=t.split("/");e.run("/"+i,...n)||e.run("///","/"+i,...n),e.run("//","/"+i,...n)}else e.run(t)||e.run("///",t),e.run("//",t)};e.h=e.createElement=r,e.render=function(t,s,i){c(t,s,i)},e.Fragment=n,e.webComponent=w,e.start=(t,s,i,e,n)=>{const o=Object.assign(Object.assign({},n),{render:!0,global_event:!0}),r=new M(s,i,e);return n&&n.rendered&&(r.rendered=n.rendered),r.mount(t,o),r};const T=t=>{};e.on("$",T),e.on("debug",(t=>T)),e.on("//",T),e.on("#",T),e.route=E,e.on("route",(t=>e.route&&e.route(t))),"object"==typeof document&&document.addEventListener("DOMContentLoaded",(()=>{e.route===E&&(window.onpopstate=()=>E(location.hash),document.body.hasAttribute("apprun-no-init")||E(location.hash))})),"object"==typeof window&&(window.Component=M,window.React=e,window.on=g,window.customElement=v)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const S=new WeakMap,L=t=>(...s)=>{const i=t(...s);return S.set(i,!0),i},V=t=>"function"==typeof t&&S.has(t),P="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,C=(t,s,i=null)=>{for(;s!==i;){const i=s.nextSibling;t.removeChild(s),s=i}},N={},H={},W=`{{lit-${String(Math.random()).slice(2)}}}`,F=`\x3c!--${W}--\x3e`,D=new RegExp(`${W}|${F}`);class G{constructor(t,s){this.parts=[],this.element=s;const i=[],e=[],n=document.createTreeWalker(s.content,133,null,!1);let o=0,r=-1,h=0;const{strings:c,values:{length:l}}=t;for(;h<l;){const t=n.nextNode();if(null!==t){if(r++,1===t.nodeType){if(t.hasAttributes()){const s=t.attributes,{length:i}=s;let e=0;for(let t=0;t<i;t++)I(s[t].name,"$lit$")&&e++;for(;e-- >0;){const s=c[h],i=B.exec(s)[2],e=i.toLowerCase()+"$lit$",n=t.getAttribute(e);t.removeAttribute(e);const o=n.split(D);this.parts.push({type:"attribute",index:r,name:i,strings:o}),h+=o.length-1}}"TEMPLATE"===t.tagName&&(e.push(t),n.currentNode=t.content)}else if(3===t.nodeType){const s=t.data;if(s.indexOf(W)>=0){const e=t.parentNode,n=s.split(D),o=n.length-1;for(let s=0;s<o;s++){let i,o=n[s];if(""===o)i=q();else{const t=B.exec(o);null!==t&&I(t[2],"$lit$")&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),i=document.createTextNode(o)}e.insertBefore(i,t),this.parts.push({type:"node",index:++r})}""===n[o]?(e.insertBefore(q(),t),i.push(t)):t.data=n[o],h+=o}}else if(8===t.nodeType)if(t.data===W){const s=t.parentNode;null!==t.previousSibling&&r!==o||(r++,s.insertBefore(q(),t)),o=r,this.parts.push({type:"node",index:r}),null===t.nextSibling?t.data="":(i.push(t),r--),h++}else{let s=-1;for(;-1!==(s=t.data.indexOf(W,s+1));)this.parts.push({type:"node",index:-1}),h++}}else n.currentNode=e.pop()}for(const t of i)t.parentNode.removeChild(t)}}const I=(t,s)=>{const i=t.length-s.length;return i>=0&&t.slice(i)===s},R=t=>-1!==t.index,q=()=>document.createComment(""),B=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class J{constructor(t,s,i){this.o=[],this.template=t,this.processor=s,this.options=i}update(t){let s=0;for(const i of this.o)void 0!==i&&i.setValue(t[s]),s++;for(const t of this.o)void 0!==t&&t.commit()}_clone(){const t=P?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),s=[],i=this.template.parts,e=document.createTreeWalker(t,133,null,!1);let n,o=0,r=0,h=e.nextNode();for(;o<i.length;)if(n=i[o],R(n)){for(;r<n.index;)r++,"TEMPLATE"===h.nodeName&&(s.push(h),e.currentNode=h.content),null===(h=e.nextNode())&&(e.currentNode=s.pop(),h=e.nextNode());if("node"===n.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(h.previousSibling),this.o.push(t)}else this.o.push(...this.processor.handleAttributeExpressions(h,n.name,n.strings,this.options));o++}else this.o.push(void 0),o++;return P&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const K=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),U=` ${W} `;class z{constructor(t,s,i,e){this.strings=t,this.values=s,this.type=i,this.processor=e}getHTML(){const t=this.strings.length-1;let s="",i=!1;for(let e=0;e<t;e++){const t=this.strings[e],n=t.lastIndexOf("\x3c!--");i=(n>-1||i)&&-1===t.indexOf("--\x3e",n+1);const o=B.exec(t);s+=null===o?t+(i?U:F):t.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+W}return s+=this.strings[t],s}getTemplateElement(){const t=document.createElement("template");let s=this.getHTML();return void 0!==K&&(s=K.createHTML(s)),t.innerHTML=s,t}}class Q extends z{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),s=t.content,i=s.firstChild;return s.removeChild(i),((t,s,i=null,e=null)=>{for(;s!==i;){const i=s.nextSibling;t.insertBefore(s,e),s=i}})(s,i.firstChild),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const X=t=>null===t||!("object"==typeof t||"function"==typeof t),Y=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class Z{constructor(t,s,i){this.dirty=!0,this.element=t,this.name=s,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new tt(this)}_getValue(){const t=this.strings,s=t.length-1,i=this.parts;if(1===s&&""===t[0]&&""===t[1]){const t=i[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!Y(t))return t}let e="";for(let n=0;n<s;n++){e+=t[n];const s=i[n];if(void 0!==s){const t=s.value;if(X(t)||!Y(t))e+="string"==typeof t?t:String(t);else for(const s of t)e+="string"==typeof s?s:String(s)}}return e+=t[s],e}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class tt{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===N||X(t)&&t===this.value||(this.value=t,V(t)||(this.committer.dirty=!0))}commit(){for(;V(this.value);){const t=this.value;this.value=N,t(this)}this.value!==N&&this.committer.commit()}}class st{constructor(t){this.value=void 0,this.l=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(q()),this.endNode=t.appendChild(q())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.u(this.startNode=q()),t.u(this.endNode=q())}insertAfterPart(t){t.u(this.startNode=q()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.l=t}commit(){if(null===this.startNode.parentNode)return;for(;V(this.l);){const t=this.l;this.l=N,t(this)}const t=this.l;t!==N&&(X(t)?t!==this.value&&this.m(t):t instanceof z?this.g(t):t instanceof Node?this.v(t):Y(t)?this.j(t):t===H?(this.value=H,this.clear()):this.m(t))}u(t){this.endNode.parentNode.insertBefore(t,this.endNode)}v(t){this.value!==t&&(this.clear(),this.u(t),this.value=t)}m(t){const s=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);s===this.endNode.previousSibling&&3===s.nodeType?s.data=i:this.v(document.createTextNode(i)),this.value=t}g(t){const s=this.options.templateFactory(t);if(this.value instanceof J&&this.value.template===s)this.value.update(t.values);else{const i=new J(s,t.processor,this.options),e=i._clone();i.update(t.values),this.v(e),this.value=i}}j(t){Array.isArray(this.value)||(this.value=[],this.clear());const s=this.value;let i,e=0;for(const n of t)i=s[e],void 0===i&&(i=new st(this.options),s.push(i),0===e?i.appendIntoPart(this):i.insertAfterPart(s[e-1])),i.setValue(n),i.commit(),e++;e<s.length&&(s.length=e,this.clear(i&&i.endNode))}clear(t=this.startNode){C(this.startNode.parentNode,t.nextSibling,this.endNode)}}class it{constructor(t,s,i){if(this.value=void 0,this.l=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=s,this.strings=i}setValue(t){this.l=t}commit(){for(;V(this.l);){const t=this.l;this.l=N,t(this)}if(this.l===N)return;const t=!!this.l;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.l=N}}class et extends Z{constructor(t,s,i){super(t,s,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new nt(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class nt extends tt{}let ot=!1;(()=>{try{const t={get capture(){return ot=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class rt{constructor(t,s,i){this.value=void 0,this.l=void 0,this.element=t,this.eventName=s,this.eventContext=i,this.$=t=>this.handleEvent(t)}setValue(t){this.l=t}commit(){for(;V(this.l);){const t=this.l;this.l=N,t(this)}if(this.l===N)return;const t=this.l,s=this.value,i=null==t||null!=s&&(t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive),e=null!=t&&(null==s||i);i&&this.element.removeEventListener(this.eventName,this.$,this.O),e&&(this.O=ht(t),this.element.addEventListener(this.eventName,this.$,this.O)),this.value=t,this.l=N}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const ht=t=>t&&(ot?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const ct=new class{handleAttributeExpressions(t,s,i,e){const n=s[0];if("."===n){return new et(t,s.slice(1),i).parts}if("@"===n)return[new rt(t,s.slice(1),e.eventContext)];if("?"===n)return[new it(t,s.slice(1),i)];return new Z(t,s,i).parts}handleTextExpression(t){return new st(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function lt(t){let s=ut.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},ut.set(t.type,s));let i=s.stringsArray.get(t.strings);if(void 0!==i)return i;const e=t.strings.join(W);return i=s.keyString.get(e),void 0===i&&(i=new G(t,t.getTemplateElement()),s.keyString.set(e,i)),s.stringsArray.set(t.strings,i),i}const ut=new Map,ft=new WeakMap,at=(t,s,i)=>{let e=ft.get(s);void 0===e&&(C(s,s.firstChild),ft.set(s,e=new st(Object.assign({templateFactory:lt},i))),e.appendInto(s)),e.setValue(t),e.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const dt=(t,...s)=>new z(t,s,"html",ct),pt=(t,...s)=>new Q(t,s,"svg",ct)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,mt=new WeakMap,wt=L((t=>s=>{if(!(s instanceof st))throw new Error("unsafeHTML can only be used in text bindings");const i=mt.get(s);if(void 0!==i&&X(t)&&t===i.value&&s.value===i.fragment)return;const e=document.createElement("template");e.innerHTML=t;const n=document.importNode(e.content,!0);s.setValue(n),mt.set(s,{value:t,fragment:n})}));function yt(t,s,i){"string"==typeof s?at(dt`${wt(s)}`,t):s instanceof z?at(s,t):(c(t,s,i),ft.delete(t))}const bt=L(((t,...s)=>i=>{if(!(i instanceof rt))throw new Error("${run} can only be used in event handlers");let{element:e,eventName:n}=i;const o=()=>{let t=e._component;for(;!t&&e;)e=e.parentElement,t=e&&e._component;return console.assert(!!t,"Component not found."),t};"string"==typeof t?e[`on${n}`]=i=>o().run(t,...s,i):"function"==typeof t&&(e[`on${n}`]=i=>o().setState(t(o().state,...s,i)))}));e.createElement=r,e.render=yt,e.Fragment=n,"object"==typeof window&&(window.html=dt,window.svg=pt,window.run=bt);export default e;export{M as Component,A as ROUTER_404_EVENT,k as ROUTER_EVENT,e as app,v as customElement,b as event,dt as html,g as on,yt as render,bt as run,pt as svg,b as update};
//# sourceMappingURL=apprun-html.esm.js.map
