class t{constructor(){this._events={}}on(t,s,i={}){this._events[t]=this._events[t]||[],this._events[t].push({fn:s,options:i})}off(t,s){const i=this._events[t]||[];this._events[t]=i.filter(t=>t.fn!==s)}find(t){return this._events[t]}run(t,...s){let i=this._events[t]||[];return console.assert(i&&i.length>0,"No subscriber for event: "+t),this._events[t]=i.filter(t=>!t.options.once),i.forEach(i=>{const{fn:e,options:n}=i;return n.delay?this.delay(t,e,s,n):e.apply(this,s),!i.options.once}),i.length}once(t,s,i={}){this.on(t,s,Object.assign(Object.assign({},i),{once:!0}))}delay(t,s,i,e){e._t&&clearTimeout(e._t),e._t=setTimeout(()=>{clearTimeout(e._t),s.apply(this,i)},e.delay)}}let s;const i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;i.app&&i._AppRunVersions?s=i.app:(s=new t,i.app=s,i._AppRunVersions="AppRun-2");var e=s;let n=0;function o(t,s,i=0){if(0===i&&(n=0),"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>o(t,s,n));let h=t;return t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).t&&(h=function(t,s,i){const{tag:n,props:o,children:h}=t;let r=`_${i}`,c=o&&o.id;c?r=c:c=`_${i}${Date.now()}`,s.s||(s.s={});let l=s.s[r];l?c=l.i:(l=s.s[r]=new n(Object.assign(Object.assign({},o),{children:h})).mount(c),l.i=c);let u=l.state;if(l.mounted){const t=l.mounted(o,h,u);void 0!==t&&(u=l.state=t)}if(u instanceof Promise){const t=t=>{l.element=t,l.setState(u)};return e.createElement("section",Object.assign({},o,{id:c,ref:s=>t(s)}))}{const t=l._view(u,o),s=s=>{l.element=s,l.renderState(u,t)};return e.createElement("section",Object.assign({},o,{id:c,ref:t=>s(t)}),t)}}(t,s,n++)),h&&Array.isArray(h.children)&&(h.children=h.children.map(t=>o(t,s,n))),h}function h(t){const s=[],i=t=>{null!=t&&""!==t&&!1!==t&&s.push("function"==typeof t||"object"==typeof t?t:`${t}`)};return t&&t.forEach(t=>{Array.isArray(t)?t.forEach(t=>i(t)):i(t)}),s}function r(t,s,...i){const e=h(i);if("string"==typeof t)return{tag:t,props:s,children:e};if(Array.isArray(t))return t;if(void 0===t&&i)return e;if(Object.getPrototypeOf(t).t)return{tag:t,props:s,children:e};if("function"==typeof t)return t(s,e);throw new Error(`Unknown tag in vdom ${t}`)}const c={},l=function(t,s,i={}){if(null==s||!1===s)return;if(s=o(s,i),!t)return;Array.isArray(s)?f(t,s):f(t,[s])};function u(t,s){console.assert(!!t),function(t,s){const i=t.nodeName,e=`${s.tag||""}`;return i.toUpperCase()===e.toUpperCase()}(t,s)?(f(t,s.children),p(t,s.props)):t.parentNode.replaceChild(d(s),t)}function f(t,s){const i=Math.min(t.childNodes.length,s.length);for(let e=0;e<i;e++){const i=s[e],n=t.childNodes[e];if(i instanceof HTMLElement)t.insertBefore(i,n);else if("string"==typeof i)n.textContent!==i&&(3===n.nodeType?n.textContent=i:t.replaceChild(a(i),n));else{const s=i.props&&i.props.key;if(s)if(n.key===s)u(t.childNodes[e],i);else{const o=c[s];o?(t.insertBefore(o,n),t.appendChild(n),u(t.childNodes[e],i)):t.insertBefore(d(i),n)}else u(t.childNodes[e],i)}}let e=t.childNodes.length;for(;e>i;)t.removeChild(t.lastChild),e--;if(s.length>i){const e=document.createDocumentFragment();for(let t=i;t<s.length;t++)e.appendChild(d(s[t]));t.appendChild(e)}}function a(t){if(0===t.indexOf("_html:")){const s=document.createElement("div");return s.insertAdjacentHTML("afterbegin",t.substring(6)),s}return document.createTextNode(t)}function d(t,s=!1){if(console.assert(null!=t),t instanceof HTMLElement||t instanceof SVGElement)return t;if("string"==typeof t)return a(t);if(!t.tag||"function"==typeof t.tag)return a(JSON.stringify(t));const i=(s=s||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);return p(i,t.props),t.children&&t.children.forEach(t=>i.appendChild(d(t,s))),i}function p(t,s){console.assert(!!t);const i=t._props||{};s=function(t,s){s.class=s.class||s.className,delete s.className;const i={};return t&&Object.keys(t).forEach(t=>i[t]=null),s&&Object.keys(s).forEach(t=>i[t]=s[t]),i}(i,s||{}),t._props=s;for(const i in s){const e=s[i];if("style"===i){t.style.cssText&&(t.style.cssText="");for(const s in e)t.style[s]!==e[s]&&(t.style[s]=e[s])}else if(i.startsWith("data-")){const s=i.substring(5).replace(/-(\w)/g,t=>t[1].toUpperCase());t.dataset[s]!==e&&(e||""===e?t.dataset[s]=e:delete t.dataset[s])}else"id"===i||"class"===i||i.startsWith("role")||i.indexOf("-")>0||t instanceof SVGElement?t.getAttribute(i)!==e&&(e?t.setAttribute(i,e):t.removeAttribute(i)):t[i]!==e&&(t[i]=e);"key"===i&&e&&(c[e]=t)}s&&"function"==typeof s.ref&&window.requestAnimationFrame(()=>s.ref(t))}function m(t,...s){return h(s)}const y=(t,s={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return Object.assign({},s).observedAttributes}connectedCallback(){if(this.isConnected&&!this._component){const i=s||{};this._shadowRoot=i.shadow?this.attachShadow({mode:"open"}):this;const e={};Array.from(this.attributes).forEach(t=>e[t.name]=t.value);const n=this.children?Array.from(this.children):[];if(n.forEach(t=>t.parentElement.removeChild(t)),this._component=new t(Object.assign(Object.assign({},e),{children:n})).mount(this._shadowRoot,i),this._component.mounted){const t=this._component.mounted(e,n,this._component.state);void 0!==t&&(this._component.state=t)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==i.render&&this._component.run(".")}}disconnectedCallback(){this._component.unload&&this._component.unload(),this._component.unmount(),this._component=null}attributeChangedCallback(...t){this._component&&this._component.run("attributeChanged",...t)}};var b=(t,s,i)=>{"undefined"!=typeof customElements&&customElements.define(t,y(s,i))};const w={meta:new WeakMap,defineMetadata(t,s,i){this.meta.has(i)||this.meta.set(i,{}),this.meta.get(i)[t]=s},getMetadataKeys(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata(t,s){return s=Object.getPrototypeOf(s),this.meta.get(s)?this.meta.get(s)[t]:null}};function g(t,s={}){return(i,e,n)=>{const o=t?t.toString():e;return w.defineMetadata(`apprun-update:${o}`,{name:o,key:e,options:s},i),n}}function v(t,s={}){return function(i,e){const n=t?t.toString():e;w.defineMetadata(`apprun-update:${n}`,{name:n,key:e,options:s},i)}}function x(t,s){return function(i){return b(t,i,s),i}}const j=(t,s)=>(s?t.state[s]:t.state)||"",O=(t,s,i)=>{if(s){const e=Object.assign({},t.state);e[s]=i,t.setState(e)}else t.setState(i)};const $={};e.on("get-components",t=>t.components=$);const _=t=>t;class M{constructor(s,i,e,n){this.state=s,this.view=i,this.update=e,this.options=n,this._app=new t,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(t=null,s={render:!0})=>this.mount(t,Object.assign(Object.assign({},s),{render:!0}))}render(t,s){e.render(t,s,this)}_view(t,s=null){if(!this.view)return;const i=e.createElement;e.createElement=(t,s,...n)=>(s&&Object.keys(s).forEach(i=>{i.startsWith("$")&&(((t,s,i,n)=>{if(t.startsWith("$on")){const i=s[t];if(t=t.substring(1),"boolean"==typeof i)s[t]=s=>n.run(t,s);else if("string"==typeof i)s[t]=t=>n.run(i,t);else if("function"==typeof i)s[t]=t=>n.setState(i(n.state,t));else if(Array.isArray(i)){const[e,...o]=i;"string"==typeof e?s[t]=t=>n.run(e,...o,t):"function"==typeof e&&(s[t]=t=>n.setState(e(n.state,...o,t)))}}else if("$bind"===t){const e=s.type||"text",o="string"==typeof s[t]?s[t]:s.name;if("input"===i)switch(e){case"checkbox":s.checked=j(n,o),s.onclick=t=>O(n,o||t.target.name,t.target.checked);break;case"radio":s.checked=j(n,o)===s.value,s.onclick=t=>O(n,o||t.target.name,t.target.value);break;case"number":case"range":s.value=j(n,o),s.oninput=t=>O(n,o||t.target.name,Number(t.target.value));break;default:s.value=j(n,o),s.oninput=t=>O(n,o||t.target.name,t.target.value)}else"select"===i?(s.value=j(n,o),s.onchange=t=>{t.target.multiple||O(n,o||t.target.name,t.target.value)}):"option"===i&&(s.selected=j(n,o),s.onclick=t=>O(n,o||t.target.name,t.target.selected))}else e.run("$",{key:t,tag:i,props:s,component:n})})(i,s,t,this),delete s[i])}),i(t,s,...n));const n=s?this.view(t,s):this.view(t);return e.createElement=i,n}renderState(t,s=null){if(!this.view)return;const i=s||this._view(t);if(e.debug&&e.run("debug",{component:this,state:t,vdom:i||"[vdom is null - no render]"}),"object"!=typeof document)return;const n="string"==typeof this.element?document.getElementById(this.element):this.element;if(n){const t="_c";this.unload?n._component===this&&n.getAttribute(t)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),n.setAttribute(t,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver(t=>{t[0].oldValue!==this.tracking_id&&document.body.contains(n)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[t]}))):n.removeAttribute&&n.removeAttribute(t),n._component=this}s||this.render(n,i),this.rendered&&this.rendered(this.state)}setState(t,s={render:!0,history:!1}){if(t instanceof Promise)t.then(t=>{this.setState(t,s)}).catch(t=>{throw console.error(t),t}),this._state=t;else{if(this._state=t,null==t)return;this.state=t,!1!==s.render&&this.renderState(t),!1!==s.history&&this.enable_history&&(this._history=[...this._history,t],this._history_idx=this._history.length-1),"function"==typeof s.callback&&s.callback(this.state)}}mount(t=null,s){var i,n;if(console.assert(!this.element,"Component already mounted."),this.options=s=Object.assign(Object.assign({},this.options),s),this.element=t,this.global_event=s.global_event,this.enable_history=!!s.history,this.enable_history&&(this.on(s.history.prev||"history-prev",this._history_prev),this.on(s.history.next||"history-next",this._history_next)),this.add_actions(),this.state=null!==(n=null!==(i=this.state)&&void 0!==i?i:this.model)&&void 0!==n?n:{},s.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),e.debug){const s="string"==typeof t?t:t.id;$[s]=$[s]||[],$[s].push(this)}return this}is_global_event(t){return t&&(this.global_event||this._global_events.indexOf(t)>=0||t.startsWith("#")||t.startsWith("/")||t.startsWith("@"))}add_action(t,s,i={}){s&&"function"==typeof s&&(i.global&&this._global_events.push(t),this.on(t,(...n)=>{const o=s(this.state,...n);e.debug&&e.run("debug",{component:this,event:t,e:n,state:this.state,newState:o,options:i}),this.setState(o,i)},i))}add_actions(){const t=this.update||{};w.getMetadataKeys(this).forEach(s=>{if(s.startsWith("apprun-update:")){const i=w.getMetadata(s,this);t[i.name]=[this[i.key].bind(this),i.options]}});const s={};Array.isArray(t)?t.forEach(t=>{const[i,e,n]=t;i.toString().split(",").forEach(t=>s[t.trim()]=[e,n])}):Object.keys(t).forEach(i=>{const e=t[i];("function"==typeof e||Array.isArray(e))&&i.split(",").forEach(t=>s[t.trim()]=e)}),s["."]||(s["."]=_),Object.keys(s).forEach(t=>{const i=s[t];"function"==typeof i?this.add_action(t,i):Array.isArray(i)&&this.add_action(t,i[0],i[1])})}run(t,...s){const i=t.toString();return this.is_global_event(i)?e.run(i,...s):this._app.run(i,...s)}on(t,s,i){const n=t.toString();return this._actions.push({name:n,fn:s}),this.is_global_event(n)?e.on(n,s,i):this._app.on(n,s,i)}unmount(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this._actions.forEach(t=>{const{name:s,fn:i}=t;this.is_global_event(s)?e.off(s,i):this._app.off(s,i)})}}M.t=!0;const E="//",A="///",k=t=>{if(t||(t="#"),t.startsWith("#")){const[s,...i]=t.split("/");e.run(s,...i)||e.run("///",s,...i),e.run("//",s,...i)}else if(t.startsWith("/")){const[s,i,...n]=t.split("/");e.run("/"+i,...n)||e.run("///","/"+i,...n),e.run("//","/"+i,...n)}else e.run(t)||e.run("///",t),e.run("//",t)};e.createElement=r,e.render=function(t,s,i){l(t,s,i)},e.Fragment=m,e.webComponent=b,e.start=(t,s,i,e,n)=>{const o=Object.assign(Object.assign({},n),{render:!0,global_event:!0}),h=new M(s,i,e);return n&&n.rendered&&(h.rendered=n.rendered),h.mount(t,o),h};const T=t=>{};e.on("$",T),e.on("debug",t=>T),e.on("//",T),e.on("#",T),e.route=k,e.on("route",t=>e.route&&e.route(t)),"object"==typeof document&&document.addEventListener("DOMContentLoaded",()=>{e.route===k&&(window.onpopstate=()=>k(location.hash),k(location.hash))}),"object"==typeof window&&(window.Component=M,window.React=e)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const S=new WeakMap,L=t=>"function"==typeof t&&S.has(t),V=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,P=(t,s,i=null)=>{for(;s!==i;){const i=s.nextSibling;t.removeChild(s),s=i}},C={},H={},N=`{{lit-${String(Math.random()).slice(2)}}}`,F=`\x3c!--${N}--\x3e`,W=new RegExp(`${N}|${F}`);class D{constructor(t,s){this.parts=[],this.element=s;const i=[],e=[],n=document.createTreeWalker(s.content,133,null,!1);let o=0,h=-1,r=0;const{strings:c,values:{length:l}}=t;for(;r<l;){const t=n.nextNode();if(null!==t){if(h++,1===t.nodeType){if(t.hasAttributes()){const s=t.attributes,{length:i}=s;let e=0;for(let t=0;t<i;t++)I(s[t].name,"$lit$")&&e++;for(;e-- >0;){const s=c[r],i=B.exec(s)[2],e=i.toLowerCase()+"$lit$",n=t.getAttribute(e);t.removeAttribute(e);const o=n.split(W);this.parts.push({type:"attribute",index:h,name:i,strings:o}),r+=o.length-1}}"TEMPLATE"===t.tagName&&(e.push(t),n.currentNode=t.content)}else if(3===t.nodeType){const s=t.data;if(s.indexOf(N)>=0){const e=t.parentNode,n=s.split(W),o=n.length-1;for(let s=0;s<o;s++){let i,o=n[s];if(""===o)i=G();else{const t=B.exec(o);null!==t&&I(t[2],"$lit$")&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),i=document.createTextNode(o)}e.insertBefore(i,t),this.parts.push({type:"node",index:++h})}""===n[o]?(e.insertBefore(G(),t),i.push(t)):t.data=n[o],r+=o}}else if(8===t.nodeType)if(t.data===N){const s=t.parentNode;null!==t.previousSibling&&h!==o||(h++,s.insertBefore(G(),t)),o=h,this.parts.push({type:"node",index:h}),null===t.nextSibling?t.data="":(i.push(t),h--),r++}else{let s=-1;for(;-1!==(s=t.data.indexOf(N,s+1));)this.parts.push({type:"node",index:-1}),r++}}else n.currentNode=e.pop()}for(const t of i)t.parentNode.removeChild(t)}}const I=(t,s)=>{const i=t.length-s.length;return i>=0&&t.slice(i)===s},R=t=>-1!==t.index,G=()=>document.createComment(""),B=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class J{constructor(t,s,i){this.o=[],this.template=t,this.processor=s,this.options=i}update(t){let s=0;for(const i of this.o)void 0!==i&&i.setValue(t[s]),s++;for(const t of this.o)void 0!==t&&t.commit()}_clone(){const t=V?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),s=[],i=this.template.parts,e=document.createTreeWalker(t,133,null,!1);let n,o=0,h=0,r=e.nextNode();for(;o<i.length;)if(n=i[o],R(n)){for(;h<n.index;)h++,"TEMPLATE"===r.nodeName&&(s.push(r),e.currentNode=r.content),null===(r=e.nextNode())&&(e.currentNode=s.pop(),r=e.nextNode());if("node"===n.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(r.previousSibling),this.o.push(t)}else this.o.push(...this.processor.handleAttributeExpressions(r,n.name,n.strings,this.options));o++}else this.o.push(void 0),o++;return V&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const K=` ${N} `;class U{constructor(t,s,i,e){this.strings=t,this.values=s,this.type=i,this.processor=e}getHTML(){const t=this.strings.length-1;let s="",i=!1;for(let e=0;e<t;e++){const t=this.strings[e],n=t.lastIndexOf("\x3c!--");i=(n>-1||i)&&-1===t.indexOf("--\x3e",n+1);const o=B.exec(t);s+=null===o?t+(i?K:F):t.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+N}return s+=this.strings[t],s}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}class q extends U{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),s=t.content,i=s.firstChild;return s.removeChild(i),((t,s,i=null,e=null)=>{for(;s!==i;){const i=s.nextSibling;t.insertBefore(s,e),s=i}})(s,i.firstChild),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const z=t=>null===t||!("object"==typeof t||"function"==typeof t),Q=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class X{constructor(t,s,i){this.dirty=!0,this.element=t,this.name=s,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new Y(this)}_getValue(){const t=this.strings,s=t.length-1;let i="";for(let e=0;e<s;e++){i+=t[e];const s=this.parts[e];if(void 0!==s){const t=s.value;if(z(t)||!Q(t))i+="string"==typeof t?t:String(t);else for(const s of t)i+="string"==typeof s?s:String(s)}}return i+=t[s],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Y{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===C||z(t)&&t===this.value||(this.value=t,L(t)||(this.committer.dirty=!0))}commit(){for(;L(this.value);){const t=this.value;this.value=C,t(this)}this.value!==C&&this.committer.commit()}}class Z{constructor(t){this.value=void 0,this.h=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(G()),this.endNode=t.appendChild(G())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.l(this.startNode=G()),t.l(this.endNode=G())}insertAfterPart(t){t.l(this.startNode=G()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.h=t}commit(){for(;L(this.h);){const t=this.h;this.h=C,t(this)}const t=this.h;t!==C&&(z(t)?t!==this.value&&this.u(t):t instanceof U?this.p(t):t instanceof Node?this.m(t):Q(t)?this.g(t):t===H?(this.value=H,this.clear()):this.u(t))}l(t){this.endNode.parentNode.insertBefore(t,this.endNode)}m(t){this.value!==t&&(this.clear(),this.l(t),this.value=t)}u(t){const s=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);s===this.endNode.previousSibling&&3===s.nodeType?s.data=i:this.m(document.createTextNode(i)),this.value=t}p(t){const s=this.options.templateFactory(t);if(this.value instanceof J&&this.value.template===s)this.value.update(t.values);else{const i=new J(s,t.processor,this.options),e=i._clone();i.update(t.values),this.m(e),this.value=i}}g(t){Array.isArray(this.value)||(this.value=[],this.clear());const s=this.value;let i,e=0;for(const n of t)i=s[e],void 0===i&&(i=new Z(this.options),s.push(i),0===e?i.appendIntoPart(this):i.insertAfterPart(s[e-1])),i.setValue(n),i.commit(),e++;e<s.length&&(s.length=e,this.clear(i&&i.endNode))}clear(t=this.startNode){P(this.startNode.parentNode,t.nextSibling,this.endNode)}}class tt{constructor(t,s,i){if(this.value=void 0,this.h=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=s,this.strings=i}setValue(t){this.h=t}commit(){for(;L(this.h);){const t=this.h;this.h=C,t(this)}if(this.h===C)return;const t=!!this.h;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.h=C}}class st extends X{constructor(t,s,i){super(t,s,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new it(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class it extends Y{}let et=!1;try{const t={get capture(){return et=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class nt{constructor(t,s,i){this.value=void 0,this.h=void 0,this.element=t,this.eventName=s,this.eventContext=i,this.v=t=>this.handleEvent(t)}setValue(t){this.h=t}commit(){for(;L(this.h);){const t=this.h;this.h=C,t(this)}if(this.h===C)return;const t=this.h,s=this.value,i=null==t||null!=s&&(t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive),e=null!=t&&(null==s||i);i&&this.element.removeEventListener(this.eventName,this.v,this.j),e&&(this.j=ot(t),this.element.addEventListener(this.eventName,this.v,this.j)),this.value=t,this.h=C}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const ot=t=>t&&(et?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const ht=new class{handleAttributeExpressions(t,s,i,e){const n=s[0];if("."===n){return new st(t,s.slice(1),i).parts}return"@"===n?[new nt(t,s.slice(1),e.eventContext)]:"?"===n?[new tt(t,s.slice(1),i)]:new X(t,s,i).parts}handleTextExpression(t){return new Z(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function rt(t){let s=ct.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},ct.set(t.type,s));let i=s.stringsArray.get(t.strings);if(void 0!==i)return i;const e=t.strings.join(N);return i=s.keyString.get(e),void 0===i&&(i=new D(t,t.getTemplateElement()),s.keyString.set(e,i)),s.stringsArray.set(t.strings,i),i}const ct=new Map,lt=new WeakMap,ut=(t,s,i)=>{let e=lt.get(s);void 0===e&&(P(s,s.firstChild),lt.set(s,e=new Z(Object.assign({templateFactory:rt},i))),e.appendInto(s)),e.setValue(t),e.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const ft=(t,...s)=>new U(t,s,"html",ht),at=(t,...s)=>new q(t,s,"svg",ht)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,dt=new WeakMap,pt=(mt=t=>s=>{if(!(s instanceof Z))throw new Error("unsafeHTML can only be used in text bindings");const i=dt.get(s);if(void 0!==i&&z(t)&&t===i.value&&s.value===i.fragment)return;const e=document.createElement("template");e.innerHTML=t;const n=document.importNode(e.content,!0);s.setValue(n),dt.set(s,{value:t,fragment:n})},(...t)=>{const s=mt(...t);return S.set(s,!0),s});var mt;e.createElement=r,e.render=function(t,s,i){"string"==typeof s?ut(ft`${pt(s)}`,t):s instanceof U?ut(s,t):l(t,s,i)},e.Fragment=m,"object"==typeof window&&(window.html=ft,window.svg=at);export default e;export{M as Component,A as ROUTER_404_EVENT,E as ROUTER_EVENT,e as app,x as customElement,g as event,ft as html,v as on,at as svg,g as update};
//# sourceMappingURL=apprun-html.esm.js.map
