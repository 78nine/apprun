class t{constructor(){this._events={}}on(t,s,e={}){this._events[t]=this._events[t]||[],this._events[t].push({fn:s,options:e})}off(t,s){const e=this._events[t]||[];this._events[t]=e.filter(t=>t.fn!==s)}find(t){return this._events[t]}run(t,...s){let e=this._events[t]||[];return console.assert(e&&e.length>0,"No subscriber for event: "+t),this._events[t]=e.filter(t=>!t.options.once),e.forEach(e=>{const{fn:i,options:n}=e;return n.delay?this.delay(t,i,s,n):i.apply(this,s),!e.options.once}),e.length}once(t,s,e={}){this.on(t,s,Object.assign(Object.assign({},e),{once:!0}))}delay(t,s,e,i){i._t&&clearTimeout(i._t),i._t=setTimeout(()=>{clearTimeout(i._t),s.apply(this,e)},i.delay)}}let s;const e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;e.app&&e._AppRunVersions?s=e.app:(s=new t,e.app=s,e._AppRunVersions="AppRun-2");var i=s;function n(t,s,e){const{tag:n,props:o,children:h}=t;let r=`_${e}`,c=o&&o.id;c?r=c:c=`_${e}${Date.now()}`,s.t||(s.t={});let u=s.t[r];u?c=u.s:(u=s.t[r]=new n(Object.assign(Object.assign({},o),{children:h})).mount(c)).s=c;let l=u.state;if(u.mounted){const t=u.mounted(o,h,l);void 0!==t&&(l=u.state=t)}const f=l instanceof Promise?"":u._view(l,o);return i.createElement("section",Object.assign({},o,{id:c,ref:t=>(t=>{u.element=t,u.setState(l)})(t)}),f)}let o=0;const h="_props";function r(t){const s=[],e=t=>{null!=t&&""!==t&&!1!==t&&s.push("function"==typeof t||"object"==typeof t?t:`${t}`)};return t&&t.forEach(t=>{Array.isArray(t)?t.forEach(t=>e(t)):e(t)}),s}function c(t,s,...e){const i=r(e);if("string"==typeof t)return{tag:t,props:s,children:i};if(Array.isArray(t))return t;if(void 0===t&&e)return i;if(Object.getPrototypeOf(t).i)return{tag:t,props:s,children:i};if("function"==typeof t)return t(s,i);throw new Error(`Unknown tag in vdom ${t}`)}const u={},l=function(t,s,e={}){if(null==s||!1===s)return;if(s=function t(s,e,i=0){if(0===i&&(o=0),"string"==typeof s)return s;if(Array.isArray(s))return s.map(s=>t(s,e,o));let h=s;return s&&"function"==typeof s.tag&&Object.getPrototypeOf(s.tag).i&&(h=n(s,e,o++)),h&&Array.isArray(h.children)&&(h.children=h.children.map(s=>t(s,e,o))),h}(s,e),!t)return;Array.isArray(s)?a(t,s):a(t,[s])};function f(t,s){console.assert(!!t),function(t,s){const e=t.nodeName,i=`${s.tag||""}`;return e.toUpperCase()===i.toUpperCase()}(t,s)?(a(t,s.children),m(t,s.props)):t.parentNode.replaceChild(p(s),t)}function a(t,s){const e=Math.min(t.childNodes.length,s.length);for(let i=0;i<e;i++){const e=s[i],n=t.childNodes[i];if(e instanceof HTMLElement)t.insertBefore(e,n);else if("string"==typeof e)n.textContent!==e&&(3===n.nodeType?n.textContent=e:t.replaceChild(d(e),n));else{const s=e.props&&e.props.key;if(s)if(n.key===s)f(t.childNodes[i],e);else{const o=u[s];o?(t.insertBefore(o,n),t.appendChild(n),f(t.childNodes[i],e)):t.insertBefore(p(e),n)}else f(t.childNodes[i],e)}}let i=t.childNodes.length;for(;i>e;)t.removeChild(t.lastChild),i--;if(s.length>e){const i=document.createDocumentFragment();for(let t=e;t<s.length;t++)i.appendChild(p(s[t]));t.appendChild(i)}}function d(t){if(0===t.indexOf("_html:")){const s=document.createElement("div");return s.insertAdjacentHTML("afterbegin",t.substring(6)),s}return document.createTextNode(t)}function p(t,s=!1){if(console.assert(null!=t),t instanceof HTMLElement||t instanceof SVGElement)return t;if("string"==typeof t)return d(t);if(!t.tag||"function"==typeof t.tag)return d(JSON.stringify(t));const e=(s=s||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);return m(e,t.props),t.children&&t.children.forEach(t=>e.appendChild(p(t,s))),e}function m(t,s){console.assert(!!t);const e=t[h]||{};s=function(t,s){s.class=s.class||s.className,delete s.className;const e={};return t&&Object.keys(t).forEach(t=>e[t]=null),s&&Object.keys(s).forEach(t=>e[t]=s[t]),e}(e,s||{}),t[h]=s;for(const e in s){const i=s[e];if("style"===e){t.style.cssText&&(t.style.cssText="");for(const s in i)t.style[s]!==i[s]&&(t.style[s]=i[s])}else if(e.startsWith("data-")){const s=e.substring(5).replace(/-(\w)/g,t=>t[1].toUpperCase());t.dataset[s]!==i&&(i||""===i?t.dataset[s]=i:delete t.dataset[s])}else"id"===e||"class"===e||e.startsWith("role")||e.indexOf("-")>0||t instanceof SVGElement?t.getAttribute(e)!==i&&(i?t.setAttribute(e,i):t.removeAttribute(e)):t[e]!==i&&(t[e]=i);"key"===e&&i&&(u[i]=t)}s&&"function"==typeof s.ref&&window.requestAnimationFrame(()=>s.ref(t))}function y(t,...s){return r(s)}const b=(t,s={})=>(class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return Object.assign({},s).observedAttributes}connectedCallback(){if(this.isConnected&&!this._component){const e=s||{};this._shadowRoot=e.shadow?this.attachShadow({mode:"open"}):this;const i={};Array.from(this.attributes).forEach(t=>i[t.name]=t.value);const n=this.children?Array.from(this.children):[];if(n.forEach(t=>t.parentElement.removeChild(t)),this._component=new t(Object.assign(Object.assign({},i),{children:n})).mount(this._shadowRoot,e),this._component.mounted){const t=this._component.mounted(i,n,this._component.state);void 0!==t&&(this._component.state=t)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==e.render&&this._component.run(".")}}disconnectedCallback(){this._component.unload&&this._component.unload(),this._component.unmount(),this._component=null}attributeChangedCallback(...t){this._component&&this._component.run("attributeChanged",...t)}});var w=(t,s,e)=>{"undefined"!=typeof customElements&&customElements.define(t,b(s,e))};const g={meta:new WeakMap,defineMetadata(t,s,e){this.meta.has(e)||this.meta.set(e,{}),this.meta.get(e)[t]=s},getMetadataKeys(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata(t,s){return s=Object.getPrototypeOf(s),this.meta.get(s)?this.meta.get(s)[t]:null}};function v(t,s={}){return(e,i,n)=>{const o=t?t.toString():i;return g.defineMetadata(`apprun-update:${o}`,{name:o,key:i,options:s},e),n}}function x(t,s={}){return function(e,i){const n=t?t.toString():i;g.defineMetadata(`apprun-update:${n}`,{name:n,key:i,options:s},e)}}function j(t,s){return function(e){return w(t,e,s),e}}const O=(t,s)=>(s?t.state[s]:t.state)||"",_=(t,s,e)=>{if(s){const i=Object.assign({},t.state);i[s]=e,t.setState(i)}else t.setState(e)};var M=(t,s,e,n)=>{if(t.startsWith("$on")){const e=s[t];if(t=t.substring(1),"boolean"==typeof e)s[t]=s=>n.run(t,s);else if("string"==typeof e)s[t]=t=>n.run(e,t);else if("function"==typeof e)s[t]=t=>n.setState(e(n.state,t));else if(Array.isArray(e)){const[i,...o]=e;"string"==typeof i?s[t]=t=>n.run(i,...o,t):"function"==typeof i&&(s[t]=t=>n.setState(i(n.state,...o,t)))}}else if("$bind"===t){const i=s.type||"text",o="string"==typeof s[t]?s[t]:s.name;if("input"===e)switch(i){case"checkbox":s.checked=O(n,o),s.onclick=t=>_(n,o||t.target.name,t.target.checked);break;case"radio":s.checked=O(n,o)===s.value,s.onclick=t=>_(n,o||t.target.name,t.target.value);break;case"number":case"range":s.value=O(n,o),s.oninput=t=>_(n,o||t.target.name,Number(t.target.value));break;default:s.value=O(n,o),s.oninput=t=>_(n,o||t.target.name,t.target.value)}else"select"===e?(s.value=O(n,o),s.onchange=t=>{t.target.multiple||_(n,o||t.target.name,t.target.value)}):"option"===e&&(s.selected=O(n,o),s.onclick=t=>_(n,o||t.target.name,t.target.selected))}else i.run("$",{key:t,tag:e,props:s,component:n})};const $={};i.on("get-components",t=>t.components=$);const E=t=>t;class A{constructor(s,e,i,n){this.state=s,this.view=e,this.update=i,this.options=n,this._app=new t,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(t=null,s={render:!0})=>this.mount(t,Object.assign(Object.assign({},s),{render:!0}))}render(t,s){i.render(t,s,this)}_view(t,s=null){if(!this.view)return;const e=i.createElement;i.createElement=(t,s,...i)=>(s&&Object.keys(s).forEach(e=>{e.startsWith("$")&&(M(e,s,t,this),delete s[e])}),e(t,s,...i));const n=s?this.view(t,s):this.view(t);return i.createElement=e,n}renderState(t){if(!this.view)return;const s=this._view(t);if(i.debug&&i.run("debug",{component:this,state:t,vdom:s||"[vdom is null - no render]"}),"object"!=typeof document)return;const e="string"==typeof this.element?document.getElementById(this.element):this.element;if(e){const t="_c";this.unload?e._component===this&&e.getAttribute(t)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),e.setAttribute(t,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver(t=>{t[0].oldValue!==this.tracking_id&&document.body.contains(e)||(this.unload(this.state),this.observer.disconnect())})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[t]}))):e.removeAttribute&&e.removeAttribute(t),e._component=this}this.render(e,s),this.rendered&&this.rendered(this.state)}setState(t,s={render:!0,history:!1}){if(t instanceof Promise)t.then(t=>{this.setState(t,s)}).catch(t=>{throw console.error(t),t}),this._state=t;else{if(this._state=t,null==t)return;this.state=t,!1!==s.render&&this.renderState(t),!1!==s.history&&this.enable_history&&(this._history=[...this._history,t],this._history_idx=this._history.length-1),"function"==typeof s.callback&&s.callback(this.state)}}mount(t=null,s){var e,n;if(console.assert(!this.element,"Component already mounted."),this.options=s=Object.assign(Object.assign({},this.options),s),this.element=t,this.global_event=s.global_event,this.enable_history=!!s.history,this.enable_history&&(this.on(s.history.prev||"history-prev",this._history_prev),this.on(s.history.next||"history-next",this._history_next)),this.add_actions(),this.state=null!=(n=null!=(e=this.state)?e:this.model)?n:{},s.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),i.debug){const s="string"==typeof t?t:t.id;$[s]=$[s]||[],$[s].push(this)}return this}is_global_event(t){return t&&(this.global_event||this._global_events.indexOf(t)>=0||t.startsWith("#")||t.startsWith("/")||t.startsWith("@"))}add_action(t,s,e={}){s&&"function"==typeof s&&(e.global&&this._global_events.push(t),this.on(t,(...n)=>{const o=s(this.state,...n);i.debug&&i.run("debug",{component:this,event:t,e:n,state:this.state,newState:o,options:e}),this.setState(o,e)},e))}add_actions(){const t=this.update||{};g.getMetadataKeys(this).forEach(s=>{if(s.startsWith("apprun-update:")){const e=g.getMetadata(s,this);t[e.name]=[this[e.key].bind(this),e.options]}});const s={};Array.isArray(t)?t.forEach(t=>{const[e,i,n]=t;e.toString().split(",").forEach(t=>s[t.trim()]=[i,n])}):Object.keys(t).forEach(e=>{const i=t[e];("function"==typeof i||Array.isArray(i))&&e.split(",").forEach(t=>s[t.trim()]=i)}),s["."]||(s["."]=E),Object.keys(s).forEach(t=>{const e=s[t];"function"==typeof e?this.add_action(t,e):Array.isArray(e)&&this.add_action(t,e[0],e[1])})}run(t,...s){const e=t.toString();return this.is_global_event(e)?i.run(e,...s):this._app.run(e,...s)}on(t,s,e){const n=t.toString();return this._actions.push({name:n,fn:s}),this.is_global_event(n)?i.on(n,s,e):this._app.on(n,s,e)}unmount(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this._actions.forEach(t=>{const{name:s,fn:e}=t;this.is_global_event(s)?i.off(s,e):this._app.off(s,e)})}}A.i=!0;const k="//",T="///",S=t=>{if(t||(t="#"),t.startsWith("#")){const[s,...e]=t.split("/");i.run(s,...e)||i.run("///",s,...e),i.run("//",s,...e)}else if(t.startsWith("/")){const[s,e,...n]=t.split("/");i.run("/"+e,...n)||i.run("///","/"+e,...n),i.run("//","/"+e,...n)}else i.run(t)||i.run("///",t),i.run("//",t)};i.createElement=c,i.render=function(t,s,e){l(t,s,e)},i.Fragment=y,i.webComponent=w,i.start=(t,s,e,i,n)=>{const o=Object.assign(Object.assign({},n),{render:!0,global_event:!0}),h=new A(s,e,i);return n&&n.rendered&&(h.rendered=n.rendered),h.mount(t,o),h};const L=t=>{};i.on("$",L),i.on("debug",t=>L),i.on("//",L),i.on("#",L),i.route=S,i.on("route",t=>i.route&&i.route(t)),"object"==typeof document&&document.addEventListener("DOMContentLoaded",()=>{i.route===S&&(window.onpopstate=()=>S(location.hash),S(location.hash))}),"object"==typeof window&&(window.Component=A,window.React=i)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const V=new WeakMap,P=t=>"function"==typeof t&&V.has(t),C=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,H=(t,s,e=null,i=null)=>{for(;s!==e;){const e=s.nextSibling;t.insertBefore(s,i),s=e}},N=(t,s,e=null)=>{for(;s!==e;){const e=s.nextSibling;t.removeChild(s),s=e}},F={},W={},D=`{{lit-${String(Math.random()).slice(2)}}}`,I=`\x3c!--${D}--\x3e`,R=new RegExp(`${D}|${I}`),G="$lit$";class B{constructor(t,s){this.parts=[],this.element=s;const e=[],i=[],n=document.createTreeWalker(s.content,133,null,!1);let o=0,h=-1,r=0;const{strings:c,values:{length:u}}=t;for(;r<u;){const t=n.nextNode();if(null!==t){if(h++,1===t.nodeType){if(t.hasAttributes()){const s=t.attributes,{length:e}=s;let i=0;for(let t=0;t<e;t++)J(s[t].name,G)&&i++;for(;i-- >0;){const s=c[r],e=q.exec(s)[2],i=e.toLowerCase()+G,n=t.getAttribute(i);t.removeAttribute(i);const o=n.split(R);this.parts.push({type:"attribute",index:h,name:e,strings:o}),r+=o.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),n.currentNode=t.content)}else if(3===t.nodeType){const s=t.data;if(s.indexOf(D)>=0){const i=t.parentNode,n=s.split(R),o=n.length-1;for(let s=0;s<o;s++){let e,o=n[s];if(""===o)e=U();else{const t=q.exec(o);null!==t&&J(t[2],G)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-G.length)+t[3]),e=document.createTextNode(o)}i.insertBefore(e,t),this.parts.push({type:"node",index:++h})}""===n[o]?(i.insertBefore(U(),t),e.push(t)):t.data=n[o],r+=o}}else if(8===t.nodeType)if(t.data===D){const s=t.parentNode;null!==t.previousSibling&&h!==o||(h++,s.insertBefore(U(),t)),o=h,this.parts.push({type:"node",index:h}),null===t.nextSibling?t.data="":(e.push(t),h--),r++}else{let s=-1;for(;-1!==(s=t.data.indexOf(D,s+1));)this.parts.push({type:"node",index:-1}),r++}}else n.currentNode=i.pop()}for(const t of e)t.parentNode.removeChild(t)}}const J=(t,s)=>{const e=t.length-s.length;return e>=0&&t.slice(e)===s},K=t=>-1!==t.index,U=()=>document.createComment(""),q=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class z{constructor(t,s,e){this.o=[],this.template=t,this.processor=s,this.options=e}update(t){let s=0;for(const e of this.o)void 0!==e&&e.setValue(t[s]),s++;for(const t of this.o)void 0!==t&&t.commit()}_clone(){const t=C?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),s=[],e=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let n,o=0,h=0,r=i.nextNode();for(;o<e.length;)if(n=e[o],K(n)){for(;h<n.index;)h++,"TEMPLATE"===r.nodeName&&(s.push(r),i.currentNode=r.content),null===(r=i.nextNode())&&(i.currentNode=s.pop(),r=i.nextNode());if("node"===n.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(r.previousSibling),this.o.push(t)}else this.o.push(...this.processor.handleAttributeExpressions(r,n.name,n.strings,this.options));o++}else this.o.push(void 0),o++;return C&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Q=` ${D} `;class X{constructor(t,s,e,i){this.strings=t,this.values=s,this.type=e,this.processor=i}getHTML(){const t=this.strings.length-1;let s="",e=!1;for(let i=0;i<t;i++){const t=this.strings[i],n=t.lastIndexOf("\x3c!--");e=(n>-1||e)&&-1===t.indexOf("--\x3e",n+1);const o=q.exec(t);s+=null===o?t+(e?Q:I):t.substr(0,o.index)+o[1]+o[2]+G+o[3]+D}return s+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}class Y extends X{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),s=t.content,e=s.firstChild;return s.removeChild(e),H(s,e.firstChild),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Z=t=>null===t||!("object"==typeof t||"function"==typeof t),tt=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class st{constructor(t,s,e){this.dirty=!0,this.element=t,this.name=s,this.strings=e,this.parts=[];for(let t=0;t<e.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new et(this)}_getValue(){const t=this.strings,s=t.length-1;let e="";for(let i=0;i<s;i++){e+=t[i];const s=this.parts[i];if(void 0!==s){const t=s.value;if(Z(t)||!tt(t))e+="string"==typeof t?t:String(t);else for(const s of t)e+="string"==typeof s?s:String(s)}}return e+=t[s]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class et{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===F||Z(t)&&t===this.value||(this.value=t,P(t)||(this.committer.dirty=!0))}commit(){for(;P(this.value);){const t=this.value;this.value=F,t(this)}this.value!==F&&this.committer.commit()}}class it{constructor(t){this.value=void 0,this.h=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(U()),this.endNode=t.appendChild(U())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.u(this.startNode=U()),t.u(this.endNode=U())}insertAfterPart(t){t.u(this.startNode=U()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.h=t}commit(){for(;P(this.h);){const t=this.h;this.h=F,t(this)}const t=this.h;t!==F&&(Z(t)?t!==this.value&&this.l(t):t instanceof X?this.p(t):t instanceof Node?this.m(t):tt(t)?this.g(t):t===W?(this.value=W,this.clear()):this.l(t))}u(t){this.endNode.parentNode.insertBefore(t,this.endNode)}m(t){this.value!==t&&(this.clear(),this.u(t),this.value=t)}l(t){const s=this.startNode.nextSibling,e="string"==typeof(t=null==t?"":t)?t:String(t);s===this.endNode.previousSibling&&3===s.nodeType?s.data=e:this.m(document.createTextNode(e)),this.value=t}p(t){const s=this.options.templateFactory(t);if(this.value instanceof z&&this.value.template===s)this.value.update(t.values);else{const e=new z(s,t.processor,this.options),i=e._clone();e.update(t.values),this.m(i),this.value=e}}g(t){Array.isArray(this.value)||(this.value=[],this.clear());const s=this.value;let e,i=0;for(const n of t)void 0===(e=s[i])&&(e=new it(this.options),s.push(e),0===i?e.appendIntoPart(this):e.insertAfterPart(s[i-1])),e.setValue(n),e.commit(),i++;i<s.length&&(s.length=i,this.clear(e&&e.endNode))}clear(t=this.startNode){N(this.startNode.parentNode,t.nextSibling,this.endNode)}}class nt{constructor(t,s,e){if(this.value=void 0,this.h=void 0,2!==e.length||""!==e[0]||""!==e[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=s,this.strings=e}setValue(t){this.h=t}commit(){for(;P(this.h);){const t=this.h;this.h=F,t(this)}if(this.h===F)return;const t=!!this.h;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.h=F}}class ot extends st{constructor(t,s,e){super(t,s,e),this.single=2===e.length&&""===e[0]&&""===e[1]}_createPart(){return new ht(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class ht extends et{}let rt=!1;try{const t={get capture(){return rt=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class ct{constructor(t,s,e){this.value=void 0,this.h=void 0,this.element=t,this.eventName=s,this.eventContext=e,this.v=t=>this.handleEvent(t)}setValue(t){this.h=t}commit(){for(;P(this.h);){const t=this.h;this.h=F,t(this)}if(this.h===F)return;const t=this.h,s=this.value,e=null==t||null!=s&&(t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive),i=null!=t&&(null==s||e);e&&this.element.removeEventListener(this.eventName,this.v,this.j),i&&(this.j=ut(t),this.element.addEventListener(this.eventName,this.v,this.j)),this.value=t,this.h=F}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const ut=t=>t&&(rt?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const lt=new class{handleAttributeExpressions(t,s,e,i){const n=s[0];if("."===n){return new ot(t,s.slice(1),e).parts}return"@"===n?[new ct(t,s.slice(1),i.eventContext)]:"?"===n?[new nt(t,s.slice(1),e)]:new st(t,s,e).parts}handleTextExpression(t){return new it(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function ft(t){let s=at.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},at.set(t.type,s));let e=s.stringsArray.get(t.strings);if(void 0!==e)return e;const i=t.strings.join(D);return void 0===(e=s.keyString.get(i))&&(e=new B(t,t.getTemplateElement()),s.keyString.set(i,e)),s.stringsArray.set(t.strings,e),e}const at=new Map,dt=new WeakMap,pt=(t,s,e)=>{let i=dt.get(s);void 0===i&&(N(s,s.firstChild),dt.set(s,i=new it(Object.assign({templateFactory:ft},e))),i.appendInto(s)),i.setValue(t),i.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const mt=(t,...s)=>new X(t,s,"html",lt),yt=(t,...s)=>new Y(t,s,"svg",lt),bt=new WeakMap,wt=(t=>(...s)=>{const e=t(...s);return V.set(e,!0),e})(t=>s=>{if(!(s instanceof it))throw new Error("unsafeHTML can only be used in text bindings");const e=bt.get(s);if(void 0!==e&&Z(t)&&t===e.value&&s.value===e.fragment)return;const i=document.createElement("template");i.innerHTML=t;const n=document.importNode(i.content,!0);s.setValue(n),bt.set(s,{value:t,fragment:n})});i.createElement=c,i.render=function(t,s,e){"string"==typeof s?pt(mt`${wt(s)}`,t):s instanceof X?pt(s,t):l(t,s,e)},i.Fragment=y,"object"==typeof window&&(window.html=mt,window.svg=yt);export default i;export{A as Component,T as ROUTER_404_EVENT,k as ROUTER_EVENT,i as app,j as customElement,v as event,mt as html,x as on,yt as svg,v as update};
//# sourceMappingURL=apprun-html.esm.js.map
